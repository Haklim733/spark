# Spark log4j.properties for HybridLogger Integration
# This configuration captures all observability information for downstream processing

# Root logger configuration
log4j.rootLogger=INFO, console, file, hybrid

# Console appender for development
log4j.appender.console=org.apache.log4j.ConsoleAppender
log4j.appender.console.target=System.out
log4j.appender.console.layout=org.apache.log4j.PatternLayout
log4j.appender.console.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n

# File appender for persistent logs
log4j.appender.file=org.apache.log4j.RollingFileAppender
log4j.appender.file.File=/opt/bitnami/spark/logs/spark-application.log
log4j.appender.file.MaxFileSize=100MB
log4j.appender.file.MaxBackupIndex=10
log4j.appender.file.layout=org.apache.log4j.PatternLayout
log4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n

# HybridLogger appender for structured observability data
log4j.appender.hybrid=org.apache.log4j.RollingFileAppender
log4j.appender.hybrid.File=/opt/bitnami/spark/logs/hybrid-observability.log
log4j.appender.hybrid.MaxFileSize=200MB
log4j.appender.hybrid.MaxBackupIndex=20
log4j.appender.hybrid.layout=org.apache.log4j.PatternLayout
log4j.appender.hybrid.layout.ConversionPattern=%m%n

# Specific logger configurations for different components

# Spark core logging
log4j.logger.org.apache.spark=WARN
log4j.logger.org.apache.hadoop=WARN
log4j.logger.org.apache.parquet=WARN
log4j.logger.org.apache.iceberg=INFO

# Custom application loggers for HybridLogger integration
log4j.logger.HybridLogger=INFO, hybrid
log4j.logger.BatchMetricsLogger=INFO, hybrid

log4j.logger.PerformanceOptimizedLogger=INFO, hybrid

# Capture all PERFORMANCE_METRICS, BUSINESS_EVENT, and CUSTOM_METRICS
log4j.logger.PERFORMANCE_METRICS=INFO, hybrid
log4j.logger.BUSINESS_EVENT=INFO, hybrid
log4j.logger.CUSTOM_METRICS=INFO, hybrid
log4j.logger.CUSTOM_COMPLETION=INFO, hybrid
log4j.logger.FILE_SUCCESS=INFO, hybrid
log4j.logger.FILE_FAILURE=INFO, hybrid
log4j.logger.BATCH_METRICS=INFO, hybrid

# SQL and DataFrame operations
log4j.logger.org.apache.spark.sql=INFO
log4j.logger.org.apache.spark.sql.execution=INFO

# Streaming operations
log4j.logger.org.apache.spark.streaming=INFO

# Reduce noise from other components
log4j.logger.org.eclipse.jetty=WARN
log4j.logger.org.apache.spark.storage=WARN
log4j.logger.org.apache.spark.scheduler=WARN
log4j.logger.org.apache.spark.executor=WARN
log4j.logger.org.apache.spark.network=WARN
log4j.logger.org.apache.spark.util=WARN
log4j.logger.org.apache.spark.sql.catalyst=WARN

# Performance monitoring
log4j.logger.org.apache.spark.sql.execution.datasources=INFO
log4j.logger.org.apache.spark.sql.execution.adaptive=INFO

# Iceberg specific logging
log4j.logger.org.apache.iceberg.spark=INFO
log4j.logger.org.apache.iceberg.aws=INFO

# S3/MinIO logging
log4j.logger.org.apache.hadoop.fs.s3a=INFO
log4j.logger.org.apache.hadoop.fs.s3=INFO

# Application-specific loggers (adjust based on your app names)
log4j.logger.DataProcessor=INFO, hybrid
log4j.logger.BatchProcessor=INFO, hybrid
log4j.logger.LogIngestion=INFO, hybrid
log4j.logger.PerformanceLogging=INFO, hybrid 